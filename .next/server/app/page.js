(()=>{var e={};e.id=931,e.ids=[931],e.modules={3524:e=>{"use strict";e.exports=require("@prisma/client")},7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},8875:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.a,__next_app__:()=>u,originalPathname:()=>p,pages:()=>c,routeModule:()=>g,tree:()=>d});var s=r(482),a=r(9108),i=r(2563),o=r.n(i),l=r(8300),n={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>l[e]);r.d(t,n);let d=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,3443)),"/Users/revdave/Sites/-WebApps/-NEXT-VARIED/ws-12/todo-app-pg/src/app/page.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,1342)),"/Users/revdave/Sites/-WebApps/-NEXT-VARIED/ws-12/todo-app-pg/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,9361,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/revdave/Sites/-WebApps/-NEXT-VARIED/ws-12/todo-app-pg/src/app/page.tsx"],p="/page",u={require:r,loadChunk:()=>Promise.resolve()},g=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},1043:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,2583,23)),Promise.resolve().then(r.t.bind(r,6840,23)),Promise.resolve().then(r.t.bind(r,8771,23)),Promise.resolve().then(r.t.bind(r,3225,23)),Promise.resolve().then(r.t.bind(r,9295,23)),Promise.resolve().then(r.t.bind(r,3982,23))},1317:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,1476,23)),Promise.resolve().then(r.bind(r,2998)),Promise.resolve().then(r.bind(r,6170)),Promise.resolve().then(r.bind(r,1918)),Promise.resolve().then(r.bind(r,471)),Promise.resolve().then(r.bind(r,2828))},7658:()=>{},2998:(e,t,r)=>{"use strict";r.r(t),r.d(t,{CategoryFilter:()=>o});var s=r(2295),a=r(2254);let i=e=>{switch(e){case"Event":return"bg-purple-100 text-purple-800 hover:bg-purple-200";case"Reminder":return"bg-blue-100 text-blue-800 hover:bg-blue-200";case"Someday":return"bg-green-100 text-green-800 hover:bg-green-200";case"Now":return"bg-orange-100 text-orange-800 hover:bg-orange-200";default:return"bg-gray-100 text-gray-800 hover:bg-gray-200"}};function o({selectedCategory:e}){let t=(0,a.useRouter)(),r=(0,a.useSearchParams)(),o=e=>{let s=r.get("priority")||"All";"All"===e?"All"===s?t.push("/"):t.push(`/?priority=${s}`):t.push(`/?category=${e}${"All"!==s?`&priority=${s}`:""}`)};return s.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:["All","Event","Reminder","Someday","Now"].map(t=>s.jsx("button",{onClick:()=>o(t),className:`px-3 py-1.5 rounded-full text-sm font-medium transition-colors duration-200 ${i(t)} ${e===t?"ring-2 ring-offset-2 ring-blue-500":""}`,children:t},t))})}},6170:(e,t,r)=>{"use strict";r.r(t),r.d(t,{PriorityFilter:()=>i});var s=r(2295),a=r(2254);function i({selectedPriority:e}){let t=(0,a.useRouter)(),r=(0,a.useSearchParams)(),i=e=>{let s=r.get("category")||"All";"All"===e?"All"===s?t.push("/"):t.push(`/?category=${s}`):t.push(`/?priority=${e}${"All"!==s?`&category=${s}`:""}`)};return s.jsx("div",{className:"flex gap-2 mb-4",children:["All","High","Medium","Low"].map(t=>s.jsx("button",{onClick:()=>i(t),className:`px-3 py-1.5 rounded-full text-sm font-medium transition-colors duration-200 ${e===t?"bg-blue-500 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:t},t))})}},1918:(e,t,r)=>{"use strict";r.r(t),r.d(t,{SortFilter:()=>i});var s=r(2295),a=r(2254);function i({selectedSortField:e,selectedSortOrder:t}){let r=(0,a.useSearchParams)(),i=(e,t)=>{let s=new URLSearchParams(r.toString());return s.set("sortField",e),s.set("sortOrder",t),s.has("page")||s.set("page","1"),`?${s.toString()}`};return(0,s.jsxs)("div",{className:"space-y-3",children:[s.jsx("div",{className:"flex flex-wrap gap-2",children:[{field:"createdAt",label:"Creation Date"},{field:"updatedAt",label:"Last Updated"},{field:"priority",label:"Priority"},{field:"status",label:"Status"}].map(r=>(0,s.jsxs)("button",{onClick:()=>{let s=e===r.field&&"desc"===t?"asc":"desc";window.location.href=i(r.field,s)},className:`px-3 py-1.5 text-sm rounded-md border transition-colors flex items-center gap-1 ${e===r.field?"bg-blue-500 text-white border-blue-600":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:[r.label,e===r.field&&s.jsx("span",{className:"text-xs",children:"desc"===t?"↓":"↑"})]},r.field))}),s.jsx("div",{className:"text-xs text-gray-500",children:"Click a field to sort. Click again to reverse order."})]})}},471:(e,t,r)=>{"use strict";r.r(t),r.d(t,{StatusFilter:()=>i});var s=r(2295),a=r(2254);function i({selectedStatus:e}){let t=(0,a.useRouter)(),r=(0,a.useSearchParams)(),i=e=>{let s=r.get("category")||"All",a=r.get("priority")||"All",i=new URLSearchParams;"All"!==s&&i.append("category",s),"All"!==a&&i.append("priority",a),"All"!==e&&i.append("status",e);let o=i.toString();t.push(o?`/?${o}`:"/")};return s.jsx("div",{className:"flex gap-2",children:["All","Active","Pending","Complete","OnHold"].map(t=>s.jsx("button",{onClick:()=>i(t),className:`px-3 py-1.5 rounded-full text-sm font-medium transition-colors duration-200 ${e===t?"bg-blue-500 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:t},t))})}},2828:(e,t,r)=>{"use strict";r.r(t),r.d(t,{TodoList:()=>c});var s=r(2295),a=r(3729);function i({content:e}){let[t,r]=(0,a.useState)(!1);(0,a.useEffect)(()=>{r(!0)},[]);let i=e.includes("<")&&e.includes(">");return t?s.jsx("div",{className:"text-gray-800 [&_p]:mb-0 [&_span]:mb-0",dangerouslySetInnerHTML:{__html:e}}):i?s.jsx("div",{className:"text-gray-800",children:"Loading..."}):s.jsx("div",{className:"text-gray-800",children:e})}var o=r(783),l=r.n(o),n=r(2254);function d(e){return new Date(e).toLocaleString("en-US",{month:"2-digit",day:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}function c({todos:e,selectedCategory:t,selectedPriority:r,selectedStatus:o,currentPage:c,totalCount:p}){let u=(0,n.useRouter)(),[g,x]=(0,a.useState)(!1),[m,h]=(0,a.useState)(""),y=async e=>{if(window.confirm("Are you sure you want to delete this todo?")){x(!0),h("");try{if(!(await fetch(`/api/todos?id=${e}`,{method:"DELETE"})).ok)throw Error("Failed to delete todo");u.refresh()}catch(e){h("Failed to delete todo. Please try again.")}finally{x(!1)}}};return e.length?(0,s.jsxs)("div",{className:"space-y-4 p-4",children:[m&&s.jsx("div",{className:"bg-red-100 text-red-700 p-4 rounded-md mb-4",children:m}),s.jsx("div",{className:"grid gap-4",children:e.map(e=>{let{truncated:t,isTruncated:r}=e.content?function(e){let t=e?e.replace(/<[^>]+>/g," ").replace(/\n\s*\n/g,"\n").replace(/\s+/g," ").trim():"";return t.length<=150?{truncated:t,isTruncated:!1}:{truncated:t.slice(0,150)+"...",isTruncated:!0}}(e.content):{truncated:"",isTruncated:!1};return s.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 hover:shadow-md transition-shadow duration-200",children:(0,s.jsxs)("div",{className:"flex justify-between items-start",children:[(0,s.jsxs)("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:e.title}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-2 mb-3",children:[s.jsx("span",{className:`px-2 py-1 text-sm rounded-full ${"Event"===e.category?"bg-purple-100 text-purple-800":"Reminder"===e.category?"bg-yellow-100 text-yellow-800":"Someday"===e.category?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"}`,children:e.category}),s.jsx("span",{className:`px-2 py-1 text-sm rounded-full ${"High"===e.priority?"bg-red-100 text-red-800":"Medium"===e.priority?"bg-orange-100 text-orange-800":"bg-green-100 text-green-800"}`,children:e.priority}),s.jsx("span",{className:`px-2 py-1 text-sm rounded-full ${"Active"===e.status?"bg-blue-100 text-blue-800":"Pending"===e.status?"bg-yellow-100 text-yellow-800":"Complete"===e.status?"bg-green-100 text-green-800":"OnHold"===e.status?"bg-gray-100 text-gray-800":"bg-red-100 text-red-800"}`,children:e.status})]}),e.content&&s.jsx("div",{className:"prose prose-sm max-w-none mb-4",children:s.jsx(i,{content:e.content})}),(0,s.jsxs)("div",{className:"text-sm text-gray-500",children:[(0,s.jsxs)("div",{children:["Created: ",d(e.createdAt)]}),e.updatedAt&&e.updatedAt!==e.createdAt&&(0,s.jsxs)("div",{children:["Updated: ",d(e.updatedAt)]})]})]}),(0,s.jsxs)("div",{className:"flex gap-2 ml-4",children:[s.jsx(l(),{href:`/view/${e.id}`,className:"text-blue-500 hover:text-blue-600 px-3 py-1 rounded-md hover:bg-blue-50 transition-colors",children:"View"}),s.jsx(l(),{href:`/edit/${e.id}`,className:"text-green-500 hover:text-green-600 px-3 py-1 rounded-md hover:bg-green-50 transition-colors",children:"Edit"}),s.jsx("button",{onClick:()=>y(e.id),disabled:g,className:"text-red-500 hover:text-red-600 px-3 py-1 rounded-md hover:bg-red-50 transition-colors disabled:opacity-50",children:"Delete"})]})]})},e.id)})})]}):s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-gray-500",children:"No todos found"})})}},8026:(e,t,r)=>{let{createProxy:s}=r(6843);e.exports=s("/Users/revdave/Sites/-WebApps/-NEXT-VARIED/ws-12/todo-app-pg/node_modules/next/dist/client/link.js")},646:(e,t,r)=>{e.exports=r(8026)},1342:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i,metadata:()=>a});var s=r(5036);r(5023);let a={title:"Todo App SQLite",description:"A simple todo app built with Next.js"};function i({children:e}){return s.jsx("html",{lang:"en",children:s.jsx("body",{className:"min-h-screen bg-gray-50",children:e})})}},3443:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>C,generateMetadata:()=>_});var s=r(5036),a=r(3524);let i=global.prisma||new a.PrismaClient({log:[]});var o=r(646),l=r.n(o),n=r(6843);let d=(0,n.createProxy)(String.raw`/Users/revdave/Sites/-WebApps/-NEXT-VARIED/ws-12/todo-app-pg/src/components/TodoList.tsx`),{__esModule:c,$$typeof:p}=d;d.default;let u=(0,n.createProxy)(String.raw`/Users/revdave/Sites/-WebApps/-NEXT-VARIED/ws-12/todo-app-pg/src/components/TodoList.tsx#TodoList`),g=(0,n.createProxy)(String.raw`/Users/revdave/Sites/-WebApps/-NEXT-VARIED/ws-12/todo-app-pg/src/components/CategoryFilter.tsx`),{__esModule:x,$$typeof:m}=g;g.default;let h=(0,n.createProxy)(String.raw`/Users/revdave/Sites/-WebApps/-NEXT-VARIED/ws-12/todo-app-pg/src/components/CategoryFilter.tsx#CategoryFilter`),y=(0,n.createProxy)(String.raw`/Users/revdave/Sites/-WebApps/-NEXT-VARIED/ws-12/todo-app-pg/src/components/PriorityFilter.tsx`),{__esModule:b,$$typeof:v}=y;y.default;let f=(0,n.createProxy)(String.raw`/Users/revdave/Sites/-WebApps/-NEXT-VARIED/ws-12/todo-app-pg/src/components/PriorityFilter.tsx#PriorityFilter`),A=(0,n.createProxy)(String.raw`/Users/revdave/Sites/-WebApps/-NEXT-VARIED/ws-12/todo-app-pg/src/components/StatusFilter.tsx`),{__esModule:j,$$typeof:w}=A;A.default;let N=(0,n.createProxy)(String.raw`/Users/revdave/Sites/-WebApps/-NEXT-VARIED/ws-12/todo-app-pg/src/components/StatusFilter.tsx#StatusFilter`),S=(0,n.createProxy)(String.raw`/Users/revdave/Sites/-WebApps/-NEXT-VARIED/ws-12/todo-app-pg/src/components/SortFilter.tsx`),{__esModule:P,$$typeof:E}=S;S.default;let $=(0,n.createProxy)(String.raw`/Users/revdave/Sites/-WebApps/-NEXT-VARIED/ws-12/todo-app-pg/src/components/SortFilter.tsx#SortFilter`);function T({todos:e,totalCount:t,totalPages:r,currentPage:a,selectedCategory:i,selectedPriority:o,selectedStatus:n,sortField:d,sortOrder:c,searchParams:p}){return(0,s.jsxs)("main",{className:"container mx-auto px-4 py-8",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Todo List"}),s.jsx(l(),{href:"/add",className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-md transition-colors",children:"Add Todo"})]}),(0,s.jsxs)("div",{className:"bg-white shadow-sm rounded-lg overflow-hidden",children:[s.jsx("div",{className:"p-4 space-y-4",children:(0,s.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4",children:[(0,s.jsxs)("div",{children:[s.jsx("h2",{className:"text-sm font-medium text-gray-700 mb-2",children:"Category"}),s.jsx(h,{selectedCategory:i})]}),(0,s.jsxs)("div",{children:[s.jsx("h2",{className:"text-sm font-medium text-gray-700 mb-2",children:"Priority"}),s.jsx(f,{selectedPriority:o})]}),(0,s.jsxs)("div",{children:[s.jsx("h2",{className:"text-sm font-medium text-gray-700 mb-2",children:"Status"}),s.jsx(N,{selectedStatus:n})]}),(0,s.jsxs)("div",{children:[s.jsx("h2",{className:"text-sm font-medium text-gray-700 mb-2",children:"Sort By"}),s.jsx($,{selectedSortField:d,selectedSortOrder:c})]})]})}),s.jsx("div",{className:"mt-4",children:s.jsx(u,{todos:e,selectedCategory:i,selectedPriority:o,selectedStatus:n,currentPage:a,totalCount:t})}),r>1&&s.jsx("div",{className:"flex justify-center space-x-2 p-4",children:Array.from({length:r},(e,t)=>t+1).map(e=>{let{page:t,...r}=p;return s.jsx(l(),{href:{pathname:"/",query:{...r,page:e.toString()}},className:`px-3 py-1 rounded-md ${a===e?"bg-blue-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:e},e)})})]})]})}async function _(){return{title:"Todo App",description:"A simple todo app with advanced features"}}async function C({searchParams:e={}}){let{category:t="All",priority:r="All",status:a="All",page:o="1",sortField:l="createdAt",sortOrder:n="desc"}=e,d=Array.isArray(t)?t[0]:t,c=Array.isArray(r)?r[0]:r,p=Array.isArray(a)?a[0]:a,u=Number(Array.isArray(o)?o[0]:o)||1,g=Array.isArray(l)?l[0]:l,x=Array.isArray(n)?n[0]:n,m=await i.todo.count({where:{AND:["All"===d?{}:{category:d},"All"===c?{}:{priority:c},"All"===p?{}:{status:p}]}}),h=await i.todo.findMany({where:{AND:["All"===d?{}:{category:d},"All"===c?{}:{priority:c},"All"===p?{}:{status:p}]},orderBy:{[g]:x},skip:(u-1)*3,take:3}),y={category:d,priority:c,status:p,page:String(u),sortField:g,sortOrder:x};return s.jsx(T,{todos:h,totalCount:m,totalPages:Math.ceil(m/3),currentPage:u,selectedCategory:d,selectedPriority:c,selectedStatus:p,sortField:g,sortOrder:x,searchParams:y})}},5023:()=>{}};var t=require("../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[638,312,860],()=>r(8875));module.exports=s})();